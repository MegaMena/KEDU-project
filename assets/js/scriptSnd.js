function setLocal(t){var e=JSON.stringify(t);localStorage.setItem("comments",e)}function getLocal(){var t=localStorage.getItem("comments");return null==t?[]:JSON.parse(t)}function submitComment(t){var e=getLocal(),n={text:t};e.push(n),setLocal(e)}function buildList(){var t=getLocal(),e=document.querySelector("article");e.innerHTML="";for(var n=0;n<t.length;n++){var i=document.createElement("div");i.className="subject";var a=document.createElement("p"),o=document.createElement("button"),d=document.createElement("button");a.innerHTML=t[n].text,o.innerHTML="Delete",o.setAttribute("data-index",n),o.addEventListener("click",submitDelEvent),d.innerHTML="Edit",d.setAttribute("data-index",n),d.addEventListener("click",submitEditEvent),i.appendChild(a),i.appendChild(o),i.appendChild(d),e.appendChild(a),e.appendChild(o),e.appendChild(d)}}function submitEditEvent(t){var e=t.target.getAttribute("data-index"),n=getLocal(),i=prompt("Edit text");n[e].text=i,setLocal(n),buildList()}function submitDelEvent(t){var e=t.target.getAttribute("data-index"),n=getLocal();n.splice(e,1),setLocal(n),buildList()}function submitCommentEvent(t){submitComment(document.querySelector("#commentText").value),buildList()}window.onload=function(){buildList()};var submitCommentBtn=document.querySelector(".addComment");submitCommentBtn.addEventListener("click",submitCommentEvent);
